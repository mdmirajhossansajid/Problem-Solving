#include<bits/stdc++.h>
using namespace std;
void printing_forward(list<int>l)
{
    for(int val:l)
    {
        cout<<val<<" ";
    }
    cout<<endl;
}
void printing_backword(list<int>l)
{
    l.reverse();
    for(int val:l)
    {
        cout<<val<<" ";
    }
    cout<<endl;
}
int main()
{
    list<int>l;
    int q;
    cin>>q;
    while (q--)
    {
        int idx,val;
        cin>>idx>>val;
        int sz=l.size();
        if(idx<0 || idx>sz)
        {
            cout<<"Invalid"<<endl;
            continue;
        }
        else if(idx==0)
        {
            l.push_front(val);
        }
        else if(idx==sz)
        {
            l.push_back(val);
        }
        else
        {
            l.insert(next(l.begin()),val);
        }
        printing_forward(l);
        printing_backword(l);

    }
    
    return 0;
}
